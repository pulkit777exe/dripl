@import "tailwindcss";
@import "tw-animate-css";

html,
body,
* {
  font-family: var(--font-inter), "Inter", ui-sans-serif, system-ui, sans-serif;
}

.canvas-text-input,
.canvas-text-node {
  font-family: var(--font-caveat), "Caveat", cursive !important;
}

:root {
  --color-background:            #f5f5f5;
  --color-foreground:            #1e1e1e;
  --color-card:                  #ffffff;
  --color-card-foreground:       #1e1e1e;
  --color-popover:               #ffffff;
  --color-popover-foreground:    #1e1e1e;

  --color-primary:               #6965db;
  --color-primary-foreground:    #ffffff;
  --color-secondary:             #ececec;
  --color-secondary-foreground:  #1e1e1e;
  --color-muted:                 #ececec;
  --color-muted-foreground:      #6b7280;
  --color-accent:                #ececec;
  --color-accent-foreground:     #1e1e1e;
  --color-destructive:           #e03131;
  --color-destructive-foreground:#ffffff;

  --color-border:                #e0e0e0;
  --color-input:                 #e0e0e0;
  --color-ring:                  #6965db;

  --color-toolbar-bg:            #ffffff;
  --color-toolbar-border:        #e0e0e0;
  --color-toolbar-divider:       #e0e0e0;

  --color-tool-active-bg:        #e0dcff;
  --color-tool-active-text:      #6965db;
  --color-tool-active-shadow:    rgba(105, 101, 219, 0.22);

  --color-tool-inactive-text:    #374151;
  --color-tool-hover-bg:         #f3f3f3;
  --color-tool-hover-text:       #1e1e1e;

  --color-panel-bg:              #ffffff;
  --color-panel-border:          #e0e0e0;
  --color-panel-btn-bg:          #f3f3f3;
  --color-panel-btn-hover:       #e5e5e5;
  --color-panel-btn-active:      #6965db;
  --color-panel-btn-active-text: #ffffff;
  --color-panel-label:           #6b7280;
  --color-panel-text:            #1e1e1e;
  --color-panel-divider:         #e8e8e8;
  --color-panel-slider:          #d1d5db;
  --color-panel-menu-active:     #f0eeff;

  --color-canvas-bg:             #ffffff;
  --color-hint-bg:               #e8e8e8;
  --color-hint-text:             #6b7280;

  --color-default-stroke:        #1e1e1e;

  --radius: 0.5rem;
}

.dark,
html.dark {
  --color-background:            #121212;
  --color-foreground:            #e8e8e8;
  --color-card:                  #232329;
  --color-card-foreground:       #e8e8e8;
  --color-popover:               #232329;
  --color-popover-foreground:    #e8e8e8;

  --color-primary:               #7c7cf8;
  --color-primary-foreground:    #ffffff;
  --color-secondary:             #2a2a2f;
  --color-secondary-foreground:  #e8e8e8;
  --color-muted:                 #2a2a2f;
  --color-muted-foreground:      #9ca3af;
  --color-accent:                #2e2e35;
  --color-accent-foreground:     #e8e8e8;
  --color-destructive:           #e03131;
  --color-destructive-foreground:#ffffff;

  --color-border:                #373740;
  --color-input:                 #373740;
  --color-ring:                  #7c7cf8;

  --color-toolbar-bg:            #232329;
  --color-toolbar-border:        #373740;
  --color-toolbar-divider:       #373740;
  --color-tool-active-bg:        #3d3a6e;
  --color-tool-active-text:      #c5c3f9;
  --color-tool-active-shadow:    rgba(124, 124, 248, 0.28);

  --color-tool-inactive-text:    #c9c9d4;
  --color-tool-hover-bg:         #2e2e35;
  --color-tool-hover-text:       #e8e8e8;

  --color-panel-bg:              #232329;
  --color-panel-border:          #373740;
  --color-panel-btn-bg:          #2e2e35;
  --color-panel-btn-hover:       #3a3a45;
  --color-panel-btn-active:      #6965db;
  --color-panel-btn-active-text: #ffffff;
  --color-panel-label:           #9ca3af;
  --color-panel-text:            #e8e8e8;
  --color-panel-divider:         #373740;
  --color-panel-slider:          #3a3a45;
  --color-panel-menu-active:     #323056;

  --color-canvas-bg:             #1e1e1e;
  --color-hint-bg:               #373740;
  --color-hint-text:             #9ca3af;
  --color-default-stroke:        #ffffff;
}

.tool-btn-active {
  background-color: var(--color-tool-active-bg);
  color: var(--color-tool-active-text);
  box-shadow: 0 0 0 2px var(--color-tool-active-shadow),
              inset 0 1px 0 rgba(255, 255, 255, 0.08);
}

.sidebar-panel {
  transform: translateX(-8px);
  opacity: 0;
  pointer-events: none;
  transition: transform 0.18s cubic-bezier(0.25, 0.46, 0.45, 0.94),
              opacity 0.18s ease-out;
}

.sidebar-panel.is-open {
  transform: translateX(0);
  opacity: 1;
  pointer-events: auto;
}

.properties-panel {
  transform: translateX(-12px);
  opacity: 0;
  pointer-events: none;
  transition: transform 0.2s cubic-bezier(0.25, 0.46, 0.45, 0.94),
              opacity 0.2s ease-out;
}

.properties-panel.is-visible {
  transform: translateX(0);
  opacity: 1;
  pointer-events: auto;
}

.properties-panel.no-selection {
  transform: translateX(0);
  opacity: 1;
  pointer-events: auto;
}

.selection-box {
  transition: none;
}

.selection-box.animate {
  transition: transform 0.08s linear,
              width   0.08s linear,
              height  0.08s linear;
}
.resize-handle {
  transition: transform 0.1s ease-out,
              box-shadow 0.1s ease-out;
  border-radius: 2px;
}

.resize-handle:hover {
  transform: scale(1.35) !important;
  box-shadow: 0 0 0 3px var(--color-tool-active-shadow);
  z-index: 30 !important;
}

.rotate-handle {
  transition: transform 0.1s ease-out,
              box-shadow 0.1s ease-out;
}

.rotate-handle:hover {
  transform: translateX(-50%) scale(1.35) !important;
  box-shadow: 0 0 0 3px var(--color-tool-active-shadow);
}

.canvas-zoom-transition {
  transition: transform 0.1s ease-out;
}

.btn-smooth {
  transition: background-color 0.15s ease-out,
              color 0.15s ease-out,
              box-shadow 0.15s ease-out,
              transform 0.1s ease-out;
}

.btn-smooth:hover {
  transform: translateY(-1px);
}

.btn-smooth:active {
  transform: translateY(0) scale(0.97);
}

input[type="range"] {
  -webkit-appearance: none;
  appearance: none;
  height: 4px;
  border-radius: 2px;
  background: var(--color-panel-slider);
  outline: none;
  cursor: pointer;
}

input[type="range"]::-webkit-slider-thumb {
  -webkit-appearance: none;
  appearance: none;
  width: 14px;
  height: 14px;
  border-radius: 50%;
  background: var(--color-primary);
  border: 2px solid var(--color-panel-bg);
  box-shadow: 0 0 0 1px var(--color-primary);
  cursor: pointer;
  transition: transform 0.1s ease-out;
}

input[type="range"]::-webkit-slider-thumb:hover {
  transform: scale(1.2);
}

input[type="range"]::-moz-range-thumb {
  width: 14px;
  height: 14px;
  border-radius: 50%;
  background: var(--color-primary);
  border: 2px solid var(--color-panel-bg);
  cursor: pointer;
}

::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}

::-webkit-scrollbar-track {
  background: transparent;
}

::-webkit-scrollbar-thumb {
  background: var(--color-border);
  border-radius: 3px;
}

::-webkit-scrollbar-thumb:hover {
  background: var(--color-muted-foreground);
}
